\doxysection{GLSLProgram.\+h}
\hypertarget{GLSLProgram_8h_source}{}\label{GLSLProgram_8h_source}\index{/mnt/c/Users/lefte/Mujin/MastersThesis/Taz/TazGraph/TazGraphEngine/GLSLProgram.h@{/mnt/c/Users/lefte/Mujin/MastersThesis/Taz/TazGraph/TazGraphEngine/GLSLProgram.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ }
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}GL/glew.h"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <fstream>}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ "{}./Vertex.h"{}}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}TextureManager/TextureManager.h"{}}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ "{}ConsoleLogger.h"{}}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ LINE\_OFFSET\ 2}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ SQUARE\_OFFSET\ 4}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ TRIANGLE\_VERTICES\ 3}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#define\ QUAD\_INDICES\ 6}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#define\ BOX\_OFFSET\ 8}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#define\ TOTAL\_MESHES\ 4}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#define\ TRIANGLE\_MESH\_IDX\ 0}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#define\ RECTANGLE\_MESH\_IDX\ 1}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#define\ BOX\_MESH\_IDX\ 2}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#define\ SPHERE\_MESH\_IDX\ 3}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ INDICES\_LINE\_OFFSET\ =\ LINE\_OFFSET;}
\DoxyCodeLine{00030\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ INDICES\_SQUARE\_OFFSET\ =\ 2\ *\ SQUARE\_OFFSET;}
\DoxyCodeLine{00031\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ INDICES\_BOX\_OFFSET\ =\ 3\ *\ BOX\_OFFSET;}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ ARRAY\_BOX\_OFFSET\ =\ 36;}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{static}\ Position\ triangleVertices[3]\ =\ \{}
\DoxyCodeLine{00037\ \ \ \ \ \{\ \ 0.0f,\ \ 0.5f,\ 0.0f\ \},\ \textcolor{comment}{//\ Top}}
\DoxyCodeLine{00038\ \ \ \ \ \{\ -\/0.5f,\ -\/0.5f,\ 0.0f\ \},\ \textcolor{comment}{//\ Bottom\ Left}}
\DoxyCodeLine{00039\ \ \ \ \ \{\ \ 0.5f,\ -\/0.5f,\ 0.0f\ \}\ \ \textcolor{comment}{//\ Bottom\ Right}}
\DoxyCodeLine{00040\ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{static}\ GLuint\ triangleIndices[3]\ =\ \{}
\DoxyCodeLine{00043\ \ \ \ \ 0,\ 1,\ 2}
\DoxyCodeLine{00044\ \};}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{static}\ Position\ quadVertices[4]\ =\ \{}
\DoxyCodeLine{00047\ \ \ \ \ \{\ \ \ -\/0.5f,\ \ 0.5f,\ \ \ 0.0f\ \ \ \ \},}
\DoxyCodeLine{00048\ \ \ \ \ \{\ \ \ -\/0.5f,\ \ -\/0.5f,\ \ 0.0f\ \ \ \ \},}
\DoxyCodeLine{00049\ \ \ \ \ \{\ \ \ 0.5f,\ \ \ -\/0.5f,\ \ 0.0f\ \ \ \ \},}
\DoxyCodeLine{00050\ \ \ \ \ \{\ \ \ 0.5f,\ \ \ 0.5f,\ \ \ 0.0f\ \ \ \ \}}
\DoxyCodeLine{00051\ \};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{keyword}{static}\ UV\ uv\_quadVertices[4]\ =\ \{}
\DoxyCodeLine{00054\ \ \ \ \ \{0.0f,\ 0.0f\},}
\DoxyCodeLine{00055\ \ \ \ \ \{1.0f,\ 0.0f\},}
\DoxyCodeLine{00056\ \ \ \ \ \{1.0f,\ 1.0f\},}
\DoxyCodeLine{00057\ \ \ \ \ \{0.0f,\ 1.0f\}}
\DoxyCodeLine{00058\ \};}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structTextureVertex}{TextureVertex}}\ tex\_quadVertices[4]\ =\ \{}
\DoxyCodeLine{00061\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ \ 0.5f,\ 0.0f),\ \ glm::vec2(0.0f,\ 1.0f)\ \},\ \textcolor{comment}{//\ top-\/left}}
\DoxyCodeLine{00062\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ -\/0.5f,\ 0.0f),\ \ glm::vec2(0.0f,\ 0.0f)\ \},\ \textcolor{comment}{//\ bottom-\/left}}
\DoxyCodeLine{00063\ \ \ \ \ \{\ glm::vec3(0.5f,\ -\/0.5f,\ 0.0f),\ \ glm::vec2(1.0f,\ 0.0f)\ \},\ \textcolor{comment}{//\ bottom-\/right}}
\DoxyCodeLine{00064\ \ \ \ \ \{\ glm::vec3(0.5f,\ \ 0.5f,\ 0.0f),\ \ glm::vec2(1.0f,\ 1.0f)\ \}\ \ \textcolor{comment}{//\ top-\/right}}
\DoxyCodeLine{00065\ \};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{keyword}{static}\ GLuint\ quadIndices[6]\ =\ \{}
\DoxyCodeLine{00068\ \ \ \ \ 0,\ 1,\ 2,}
\DoxyCodeLine{00069\ \ \ \ \ 2,\ 3,\ 0}
\DoxyCodeLine{00070\ \};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keyword}{static}\ Position\ cubeVertices[8]\ =\ \{}
\DoxyCodeLine{00073\ \ \ \ \ \{\ -\/0.5f,\ -\/0.5f,\ -\/0.5f\ \},\ }
\DoxyCodeLine{00074\ \ \ \ \ \{\ \ 0.5f,\ -\/0.5f,\ -\/0.5f\ \},\ }
\DoxyCodeLine{00075\ \ \ \ \ \{\ \ 0.5f,\ \ 0.5f,\ -\/0.5f\ \},\ }
\DoxyCodeLine{00076\ \ \ \ \ \{\ -\/0.5f,\ \ 0.5f,\ -\/0.5f\ \},\ }
\DoxyCodeLine{00077\ \ \ \ \ \{\ -\/0.5f,\ -\/0.5f,\ \ 0.5f\ \},\ }
\DoxyCodeLine{00078\ \ \ \ \ \{\ \ 0.5f,\ -\/0.5f,\ \ 0.5f\ \},}
\DoxyCodeLine{00079\ \ \ \ \ \{\ \ 0.5f,\ \ 0.5f,\ \ 0.5f\ \},\ }
\DoxyCodeLine{00080\ \ \ \ \ \{\ -\/0.5f,\ \ 0.5f,\ \ 0.5f\ \}\ \ }
\DoxyCodeLine{00081\ \};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structLightVertex}{LightVertex}}\ light\_cubeVertices[24]\ =\ \{}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{comment}{//\ Front\ face}}
\DoxyCodeLine{00085\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ -\/0.5f,\ -\/0.5f),\ glm::vec3(0.0f,\ 0.0f,\ -\/1.0f)\ \},}
\DoxyCodeLine{00086\ \ \ \ \ \{\ glm::vec3(0.5f,\ -\/0.5f,\ -\/0.5f),\ \ glm::vec3(0.0f,\ 0.0f,\ -\/1.0f)\ \},}
\DoxyCodeLine{00087\ \ \ \ \ \{\ glm::vec3(0.5f,\ 0.5f,\ -\/0.5f),\ \ \ glm::vec3(0.0f,\ 0.0f,\ -\/1.0f)\ \},}
\DoxyCodeLine{00088\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ 0.5f,\ -\/0.5f),\ \ glm::vec3(0.0f,\ 0.0f,\ -\/1.0f)\ \},}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{comment}{//\ Back\ face}}
\DoxyCodeLine{00091\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ -\/0.5f,\ 0.5f),\ \ glm::vec3(0.0f,\ 0.0f,\ 1.0f)\ \},}
\DoxyCodeLine{00092\ \ \ \ \ \{\ glm::vec3(0.5f,\ -\/0.5f,\ 0.5f),\ \ \ glm::vec3(0.0f,\ 0.0f,\ 1.0f)\ \},}
\DoxyCodeLine{00093\ \ \ \ \ \{\ glm::vec3(0.5f,\ 0.5f,\ 0.5f),\ \ \ \ glm::vec3(0.0f,\ 0.0f,\ 1.0f)\ \},}
\DoxyCodeLine{00094\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ 0.5f,\ 0.5f),\ \ \ glm::vec3(0.0f,\ 0.0f,\ 1.0f)\ \},}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//\ Left\ face}}
\DoxyCodeLine{00097\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ -\/0.5f,\ -\/0.5f),\ glm::vec3(-\/1.0f,\ 0.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00098\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ -\/0.5f,\ 0.5f),\ \ glm::vec3(-\/1.0f,\ 0.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00099\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ 0.5f,\ 0.5f),\ \ \ glm::vec3(-\/1.0f,\ 0.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00100\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ 0.5f,\ -\/0.5f),\ \ glm::vec3(-\/1.0f,\ 0.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{comment}{//\ Right\ face}}
\DoxyCodeLine{00103\ \ \ \ \ \{\ glm::vec3(0.5f,\ -\/0.5f,\ -\/0.5f),\ \ glm::vec3(1.0f,\ 0.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00104\ \ \ \ \ \{\ glm::vec3(0.5f,\ -\/0.5f,\ 0.5f),\ \ \ glm::vec3(1.0f,\ 0.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00105\ \ \ \ \ \{\ glm::vec3(0.5f,\ 0.5f,\ 0.5f),\ \ \ \ glm::vec3(1.0f,\ 0.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00106\ \ \ \ \ \{\ glm::vec3(0.5f,\ 0.5f,\ -\/0.5f),\ \ \ glm::vec3(1.0f,\ 0.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \ \ \textcolor{comment}{//\ Bottom\ face}}
\DoxyCodeLine{00109\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ -\/0.5f,\ -\/0.5f),\ glm::vec3(0.0f,\ -\/1.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00110\ \ \ \ \ \{\ glm::vec3(0.5f,\ -\/0.5f,\ -\/0.5f),\ \ glm::vec3(0.0f,\ -\/1.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00111\ \ \ \ \ \{\ glm::vec3(0.5f,\ -\/0.5f,\ 0.5f),\ \ \ glm::vec3(0.0f,\ -\/1.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00112\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ -\/0.5f,\ 0.5f),\ \ glm::vec3(0.0f,\ -\/1.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00113\ }
\DoxyCodeLine{00114\ \ \ \ \ \textcolor{comment}{//\ Top\ face}}
\DoxyCodeLine{00115\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ 0.5f,\ -\/0.5f),\ \ glm::vec3(0.0f,\ 1.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00116\ \ \ \ \ \{\ glm::vec3(0.5f,\ 0.5f,\ -\/0.5f),\ \ \ glm::vec3(0.0f,\ 1.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00117\ \ \ \ \ \{\ glm::vec3(0.5f,\ 0.5f,\ 0.5f),\ \ \ \ glm::vec3(0.0f,\ 1.0f,\ 0.0f)\ \},}
\DoxyCodeLine{00118\ \ \ \ \ \{\ glm::vec3(-\/0.5f,\ 0.5f,\ 0.5f),\ \ \ glm::vec3(0.0f,\ 1.0f,\ 0.0f)\ \}}
\DoxyCodeLine{00119\ \};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00121\ \textcolor{keyword}{static}\ GLuint\ cubeIndices[36]\ =\ \{}
\DoxyCodeLine{00122\ \ \ \ \ \ 0,\ 1,\ 2,}
\DoxyCodeLine{00123\ \ \ \ \ 2,\ 3,\ 0,}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{comment}{//\ Back\ face\ (vertices\ 4-\/7)}}
\DoxyCodeLine{00126\ \ \ \ \ 4,\ 5,\ 6,}
\DoxyCodeLine{00127\ \ \ \ \ 6,\ 7,\ 4,}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{comment}{//\ Left\ face\ (vertices\ 8-\/11)}}
\DoxyCodeLine{00130\ \ \ \ \ 8,\ 9,10,}
\DoxyCodeLine{00131\ \ \ \ \ 10,11,8,}
\DoxyCodeLine{00132\ }
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{comment}{//\ Right\ face\ (vertices\ 12-\/15)}}
\DoxyCodeLine{00134\ \ \ \ \ 12,13,14,}
\DoxyCodeLine{00135\ \ \ \ \ 14,15,12,}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{comment}{//\ Bottom\ face\ (vertices\ 16-\/19)}}
\DoxyCodeLine{00138\ \ \ \ \ 16,17,18,}
\DoxyCodeLine{00139\ \ \ \ \ 18,19,16,}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{comment}{//\ Top\ face\ (vertices\ 20-\/23)}}
\DoxyCodeLine{00142\ \ \ \ \ 20,21,22,}
\DoxyCodeLine{00143\ \ \ \ \ 22,23,20}
\DoxyCodeLine{00144\ \};}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ }
\DoxyCodeLine{00147\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ generateSphereMesh(std::vector<Position>\&\ vertices,\ std::vector<GLuint>\&\ indices,}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keywordtype}{float}\ radius\ =\ 1.0f,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ sectorCount\ =\ 36,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ stackCount\ =\ 18)\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ PI\ =\ 3.14159265359f;}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \ \ vertices.clear();}
\DoxyCodeLine{00152\ \ \ \ \ indices.clear();}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <=\ stackCount;\ ++i)\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ stackAngle\ =\ PI\ /\ 2.0f\ -\/\ i\ *\ PI\ /\ stackCount;\ \ \textcolor{comment}{//\ from\ pi/2\ to\ -\/pi/2}}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ xy\ =\ radius\ *\ cosf(stackAngle);}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ z\ =\ radius\ *\ sinf(stackAngle);}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <=\ sectorCount;\ ++j)\ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ sectorAngle\ =\ j\ *\ 2.0f\ *\ PI\ /\ sectorCount;}
\DoxyCodeLine{00161\ }
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ x\ =\ xy\ *\ cosf(sectorAngle);}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ y\ =\ xy\ *\ sinf(sectorAngle);}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ glm::vec3\ pos(x,\ y,\ z);}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ vertices.push\_back(pos);}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00168\ \ \ \ \ \}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ stackCount;\ ++i)\ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ k1\ =\ i\ *\ (sectorCount\ +\ 1);}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ k2\ =\ k1\ +\ sectorCount\ +\ 1;}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ sectorCount;\ ++j,\ ++k1,\ ++k2)\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ !=\ 0)\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k1);}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k2);}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k1\ +\ 1);}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ !=\ (stackCount\ -\/\ 1))\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k1\ +\ 1);}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k2);}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k2\ +\ 1);}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ \}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ generateSphereMesh(std::vector<LightVertex>\&\ vertices,\ std::vector<GLuint>\&\ indices,}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordtype}{float}\ radius\ =\ 1.0f,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ sectorCount\ =\ 36,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ stackCount\ =\ 18)\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{float}\ PI\ =\ 3.14159265359f;}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \ \ \ \ vertices.clear();}
\DoxyCodeLine{00194\ \ \ \ \ indices.clear();}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <=\ stackCount;\ ++i)\ \{}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ stackAngle\ =\ PI\ /\ 2.0f\ -\/\ i\ *\ PI\ /\ stackCount;\ \ \textcolor{comment}{//\ from\ pi/2\ to\ -\/pi/2}}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ xy\ =\ radius\ *\ cosf(stackAngle);}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ z\ =\ radius\ *\ sinf(stackAngle);}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <=\ sectorCount;\ ++j)\ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ sectorAngle\ =\ j\ *\ 2.0f\ *\ PI\ /\ sectorCount;}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ x\ =\ xy\ *\ cosf(sectorAngle);}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ y\ =\ xy\ *\ sinf(sectorAngle);}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ glm::vec3\ pos(x,\ y,\ z);}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ glm::vec3\ normal\ =\ glm::normalize(pos);}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ vertices.push\_back(\{\ pos,\ normal\ \});}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00211\ \ \ \ \ \}}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ stackCount;\ ++i)\ \{}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ k1\ =\ i\ *\ (sectorCount\ +\ 1);}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ k2\ =\ k1\ +\ sectorCount\ +\ 1;}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ j\ =\ 0;\ j\ <\ sectorCount;\ ++j,\ ++k1,\ ++k2)\ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ !=\ 0)\ \{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k1);}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k2);}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k1\ +\ 1);}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (i\ !=\ (stackCount\ -\/\ 1))\ \{}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k1\ +\ 1);}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k2);}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ indices.push\_back(k2\ +\ 1);}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00229\ \ \ \ \ \}}
\DoxyCodeLine{00230\ \}}
\DoxyCodeLine{00231\ }
\DoxyCodeLine{00232\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structInstanceData}{InstanceData}}\ \{}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \mbox{\hyperlink{structInstanceData}{InstanceData}}()\ \{\}}
\DoxyCodeLine{00235\ \ \ \ \ \mbox{\hyperlink{structInstanceData}{InstanceData}}(glm::vec3\ mSize,\ Position\ mBodyCenter,\ Rotation\ mRotation)\ :}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ size(mSize),}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ bodyCenter(mBodyCenter),}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ rotation(mRotation)}
\DoxyCodeLine{00239\ \ \ \ \ \{}
\DoxyCodeLine{00240\ \ \ \ \ \}}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \ \ \ \ \mbox{\hyperlink{structInstanceData}{InstanceData}}(glm::vec2\ mSize,\ Position\ mBodyCenter,\ Rotation\ mRotation)\ :}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ size(glm::vec3(mSize,\ 0.0f)),}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ bodyCenter(mBodyCenter),}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ rotation(mRotation)}
\DoxyCodeLine{00246\ \ \ \ \ \{}
\DoxyCodeLine{00247\ \ \ \ \ \}}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \ \ \mbox{\hyperlink{structInstanceData}{\string~InstanceData}}()\ \{\}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \ \ \ \ Size\ size\ =\ glm::vec3(0.0f);}
\DoxyCodeLine{00252\ \ \ \ \ Position\ bodyCenter\ =\ glm::vec3(0.0f);}
\DoxyCodeLine{00253\ \ \ \ \ Rotation\ rotation\ =\ glm::vec3(0.0f);}
\DoxyCodeLine{00254\ \};}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structColorInstanceData}{ColorInstanceData}}\ :\ \mbox{\hyperlink{structInstanceData}{InstanceData}}\ \{}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \ \ \ \ \mbox{\hyperlink{structColorInstanceData}{ColorInstanceData}}()\ \{\}}
\DoxyCodeLine{00260\ \ \ \ \ \mbox{\hyperlink{structColorInstanceData}{ColorInstanceData}}(glm::vec3\ mSize,\ Position\ mBodyCenter,\ Rotation\ mRotation,\ \mbox{\hyperlink{structColor}{Color}}\ mColor)\ :\ \mbox{\hyperlink{structInstanceData}{InstanceData}}(mSize,\ mBodyCenter,\ mRotation),\ color(mColor)\ \{}
\DoxyCodeLine{00261\ \ \ \ \ \}}
\DoxyCodeLine{00262\ \ \ \ \ \mbox{\hyperlink{structColorInstanceData}{ColorInstanceData}}(glm::vec2\ mSize,\ Position\ mBodyCenter,\ Rotation\ mRotation,\ \mbox{\hyperlink{structColor}{Color}}\ mColor)\ :\ \mbox{\hyperlink{structInstanceData}{InstanceData}}(mSize,\ mBodyCenter,\ mRotation),\ color(mColor)\ \{}
\DoxyCodeLine{00263\ \ \ \ \ \}}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ \mbox{\hyperlink{structColorInstanceData}{\string~ColorInstanceData}}()\ \{\};}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ \ \ \ \ \mbox{\hyperlink{structColor}{Color}}\ color\ =\ \mbox{\hyperlink{structColor}{Color}}(255,\ 255,\ 255,\ 255);}
\DoxyCodeLine{00268\ \};}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structTextureInstanceData}{TextureInstanceData}}\ :\ \mbox{\hyperlink{structInstanceData}{InstanceData}}\ \{}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \ \ \mbox{\hyperlink{structTextureInstanceData}{TextureInstanceData}}()\ \{\}}
\DoxyCodeLine{00273\ \ \ \ \ \mbox{\hyperlink{structTextureInstanceData}{TextureInstanceData}}(glm::vec3\ mSize,\ Position\ mBodyCenter,\ Rotation\ mRotation,\ GLuint\ Texture)\ :\ \mbox{\hyperlink{structInstanceData}{InstanceData}}(mSize,\ mBodyCenter,\ mRotation),\ texture(Texture)\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \}}
\DoxyCodeLine{00275\ \ \ \ \ \mbox{\hyperlink{structTextureInstanceData}{TextureInstanceData}}(glm::vec2\ mSize,\ Position\ mBodyCenter,\ Rotation\ mRotation,\ GLuint\ Texture)\ :\ \mbox{\hyperlink{structInstanceData}{InstanceData}}(mSize,\ mBodyCenter,\ mRotation),\ texture(Texture)\ \{}
\DoxyCodeLine{00276\ \ \ \ \ \}}
\DoxyCodeLine{00277\ }
\DoxyCodeLine{00278\ \ \ \ \ \mbox{\hyperlink{structTextureInstanceData}{\string~TextureInstanceData}}()\ \{\};}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \ \ GLuint\ texture\ =\ 0;}
\DoxyCodeLine{00281\ \ \ \ \ UV\ uv\ =\ glm::vec2(0.0f);}
\DoxyCodeLine{00282\ \};}
\DoxyCodeLine{00283\ }
\DoxyCodeLine{00284\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structBaseRenderer}{BaseRenderer}}\ \{}
\DoxyCodeLine{00285\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ meshIndices\ =\ 0;}
\DoxyCodeLine{00286\ \ \ \ \ }
\DoxyCodeLine{00287\ \ \ \ \ GLuint\ vao;}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \ \ \textcolor{comment}{//for\ static\ draws}}
\DoxyCodeLine{00290\ \ \ \ \ GLuint\ vbo;\ }
\DoxyCodeLine{00291\ \ \ \ \ GLuint\ ibo;}
\DoxyCodeLine{00292\ \};}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structMeshRenderer}{MeshRenderer}}\ :\ \mbox{\hyperlink{structBaseRenderer}{BaseRenderer}}\ \{}
\DoxyCodeLine{00295\ \ \ \ \ std::vector<InstanceData>\ instances;}
\DoxyCodeLine{00296\ \};}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structColorMeshRenderer}{ColorMeshRenderer}}\ :\ \mbox{\hyperlink{structBaseRenderer}{BaseRenderer}}\ \{}
\DoxyCodeLine{00299\ \ \ \ \ std::vector<ColorInstanceData>\ instances;}
\DoxyCodeLine{00300\ \};}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structTextureMeshRenderer}{TextureMeshRenderer}}\ :\ \mbox{\hyperlink{structBaseRenderer}{BaseRenderer}}\ \{}
\DoxyCodeLine{00303\ \ \ \ \ std::vector<TextureInstanceData>\ instances;}
\DoxyCodeLine{00304\ \};}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classGLSLProgram}{GLSLProgram}}\ \{}
\DoxyCodeLine{00307\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00308\ \ \ \ \ \mbox{\hyperlink{classGLSLProgram}{GLSLProgram}}()\ :\ \_programID(0),\ \_vertexShaderID(0),\ \_geometryShaderID(0),\ \_fragmentShaderID(0),\ \_numAttributes(0)}
\DoxyCodeLine{00309\ \ \ \ \ \{}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ \ \ \ \ \}}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \ \ \ \ \mbox{\hyperlink{classGLSLProgram}{\string~GLSLProgram}}()\ \{}
\DoxyCodeLine{00314\ }
\DoxyCodeLine{00315\ \ \ \ \ \}}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{comment}{//\ Vertex\ +\ Fragment}}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{keywordtype}{void}\ compileAndLinkShaders(\textcolor{keyword}{const}\ std::string\&\ vertexShaderFilePath,\ \textcolor{keyword}{const}\ std::string\&\ fragmentShaderFilePath)\ \{}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ std::string\ vertSource\ =\ readShaderFile(vertexShaderFilePath);}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ std::string\ fragSource\ =\ readShaderFile(fragmentShaderFilePath);}
\DoxyCodeLine{00321\ }
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ compileAndLinkShadersFromSource(vertSource.c\_str(),\ fragSource.c\_str());}
\DoxyCodeLine{00323\ \ \ \ \ \}}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00325\ \ \ \ \ \textcolor{comment}{//\ Vertex\ +\ Geometry\ +\ Fragment}}
\DoxyCodeLine{00326\ \ \ \ \ \textcolor{keywordtype}{void}\ compileAndLinkShaders(\textcolor{keyword}{const}\ std::string\&\ vertexShaderFilePath,\ \textcolor{keyword}{const}\ std::string\&\ geometryShaderFilePath,\ \textcolor{keyword}{const}\ std::string\&\ fragmentShaderFilePath)\ \{}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ std::string\ vertSource\ =\ readShaderFile(vertexShaderFilePath);}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ std::string\ geomSource\ =\ readShaderFile(geometryShaderFilePath);}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ std::string\ fragSource\ =\ readShaderFile(fragmentShaderFilePath);}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ compileAndLinkShadersFromSource(vertSource.c\_str(),\ geomSource.c\_str(),\ fragSource.c\_str());}
\DoxyCodeLine{00332\ \ \ \ \ \}}
\DoxyCodeLine{00333\ }
\DoxyCodeLine{00334\ \ \ \ \ \textcolor{keywordtype}{void}\ compileAndLinkShadersFromSource(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ vertexSource,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fragmentSource)\ \{}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ \ \ \ \ \ \ std::vector<GLuint>\ shaderIDs;}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ shaderIDs.push\_back(createAndCompileShader(vertexSource,\ GL\_VERTEX\_SHADER,\ \textcolor{stringliteral}{"{}Vertex"{}}));}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ shaderIDs.push\_back(createAndCompileShader(fragmentSource,\ GL\_FRAGMENT\_SHADER,\ \textcolor{stringliteral}{"{}Fragment"{}}));}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ linkShadersInternal(shaderIDs);}
\DoxyCodeLine{00342\ \ \ \ \ \}}
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{keywordtype}{void}\ compileAndLinkShadersFromSource(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ vertexSource,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ geometrySource,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ fragmentSource)\ \{}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \ \ \ \ \ \ \ \ std::vector<GLuint>\ shaderIDs;}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ shaderIDs.push\_back(createAndCompileShader(vertexSource,\ GL\_VERTEX\_SHADER,\ \textcolor{stringliteral}{"{}Vertex"{}}));}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ shaderIDs.push\_back(createAndCompileShader(geometrySource,\ GL\_GEOMETRY\_SHADER,\ \textcolor{stringliteral}{"{}Geometry"{}}));}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ shaderIDs.push\_back(createAndCompileShader(fragmentSource,\ GL\_FRAGMENT\_SHADER,\ \textcolor{stringliteral}{"{}Fragment"{}}));}
\DoxyCodeLine{00351\ }
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ linkShadersInternal(shaderIDs);}
\DoxyCodeLine{00353\ \ \ \ \ \}}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ \ \ \ \ \textcolor{keywordtype}{void}\ addAttribute(\textcolor{keyword}{const}\ std::string\&\ attributeName)\ \{}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ glBindAttribLocation(\_programID,\ \_numAttributes++,\ attributeName.c\_str());}
\DoxyCodeLine{00358\ \ \ \ \ \}}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ \ \ GLint\ getUniformLocation(\textcolor{keyword}{const}\ std::string\&\ uniformName)\ \{}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ GLint\ location\ =\ glGetUniformLocation(\_programID,\ uniformName.c\_str());}
\DoxyCodeLine{00362\ }
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (location\ ==\ GL\_INVALID\_INDEX)\ \{}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \ \ \ \ TazGraphEngine::ConsoleLogger::error(\textcolor{stringliteral}{"{}Uniform\ "{}}\ +\ uniformName\ +\ \textcolor{stringliteral}{"{}\ not\ found\ in\ shader!"{}});}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ location;}
\DoxyCodeLine{00367\ \ \ \ \ \}}
\DoxyCodeLine{00368\ }
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keywordtype}{void}\ use()\ \{}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ glUseProgram(\_programID);}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \_numAttributes;\ i++)\ \{}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ glEnableVertexAttribArray(i);}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00374\ \ \ \ \ \}}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \ \ \ \ \textcolor{keywordtype}{void}\ unuse()\ \{}
\DoxyCodeLine{00377\ \ \ \ \ \ \ \ \ glUseProgram(0);}
\DoxyCodeLine{00378\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ \_numAttributes;\ i++)\ \{}
\DoxyCodeLine{00379\ \ \ \ \ \ \ \ \ \ \ \ \ glDisableVertexAttribArray(i);}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00381\ \ \ \ \ \}}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \ \ \textcolor{keywordtype}{void}\ dispose()\ \{}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\_programID\ !=\ 0)\ glDeleteProgram(\_programID);}
\DoxyCodeLine{00385\ \ \ \ \ \}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ \ \ GLuint\ getProgramID()\ \{}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \_programID;}
\DoxyCodeLine{00389\ \ \ \ \ \}}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00392\ \ \ \ \ GLuint\ \_programID;}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \ \ \ \ GLuint\ \_vertexShaderID;}
\DoxyCodeLine{00395\ \ \ \ \ GLuint\ \_geometryShaderID;}
\DoxyCodeLine{00396\ \ \ \ \ GLuint\ \_fragmentShaderID;}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \ \ \textcolor{keywordtype}{int}\ \_numAttributes;}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ \ \ \ \ std::string\ readShaderFile(\textcolor{keyword}{const}\ std::string\&\ filePath)\ \{}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ std::vector<unsigned\ char>\ buffer;}
\DoxyCodeLine{00402\ \ \ \ \ \ \ \ \ TextureManager::readFileToBuffer(filePath.c\_str(),\ buffer);}
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::string(buffer.begin(),\ buffer.end());}
\DoxyCodeLine{00404\ \ \ \ \ \}}
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \ \ \ \ GLuint\ createAndCompileShader(\textcolor{keyword}{const}\ std::string\&\ source,\ GLenum\ shaderType,\ \textcolor{keyword}{const}\ std::string\&\ typeName)\ \{}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ GLuint\ shaderID\ =\ glCreateShader(shaderType);}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (shaderID\ ==\ 0)\ \{}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \ \ \ TazGraphEngine::ConsoleLogger::error(typeName\ +\ \textcolor{stringliteral}{"{}\ Shader\ Failed\ to\ create!"{}});}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ \ \ \ \ \ \ \ \ compileShader(source.c\_str(),\ typeName,\ shaderID);}
\DoxyCodeLine{00414\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ shaderID;}
\DoxyCodeLine{00415\ \ \ \ \ \}}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00417\ \ \ \ \ \textcolor{keywordtype}{void}\ compileShader(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ source,\ \textcolor{keyword}{const}\ std::string\&\ name,\ GLuint\ \textcolor{keywordtype}{id})\ \{}
\DoxyCodeLine{00418\ }
\DoxyCodeLine{00419\ \ \ \ \ \ \ \ \ glShaderSource(\textcolor{keywordtype}{id},\ 1,\ \&source,\ \textcolor{keyword}{nullptr});\ \textcolor{comment}{//1\ for\ number\ of\ strings}}
\DoxyCodeLine{00420\ }
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ glCompileShader(\textcolor{keywordtype}{id});}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ \ \ \ \ \ \ \ \ GLint\ success\ =\ 0;}
\DoxyCodeLine{00424\ \ \ \ \ \ \ \ \ glGetShaderiv(\textcolor{keywordtype}{id},\ GL\_COMPILE\_STATUS,\ \&success);}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00426\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (success\ ==\ GL\_FALSE)}
\DoxyCodeLine{00427\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00428\ \ \ \ \ \ \ \ \ \ \ \ \ GLint\ maxLength\ =\ 0;}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ glGetShaderiv(\textcolor{keywordtype}{id},\ GL\_INFO\_LOG\_LENGTH,\ \&maxLength);}
\DoxyCodeLine{00430\ }
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ The\ maxLength\ includes\ the\ NULL\ character}}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<GLchar>\ errorLog(maxLength);}
\DoxyCodeLine{00433\ \ \ \ \ \ \ \ \ \ \ \ \ glGetShaderInfoLog(\textcolor{keywordtype}{id},\ maxLength,\ \&maxLength,\ \&errorLog[0]);}
\DoxyCodeLine{00434\ }
\DoxyCodeLine{00435\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Provide\ the\ infolog\ in\ whatever\ manor\ you\ deem\ best.}}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Exit\ with\ failure.}}
\DoxyCodeLine{00437\ \ \ \ \ \ \ \ \ \ \ \ \ glDeleteShader(\textcolor{keywordtype}{id});\ \textcolor{comment}{//\ Don't\ leak\ the\ shader.}}
\DoxyCodeLine{00438\ }
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \ \ \ \ std::printf(\textcolor{stringliteral}{"{}\%s\(\backslash\)n"{}},\ \&(errorLog[0]));}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ \ \ \ \ std::cout\ <<\ \textcolor{stringliteral}{"{}Shader\ "{}}\ +\ name\ +\ \textcolor{stringliteral}{"{}\ failed\ to\ compile"{}}\ <<\ std::endl;}
\DoxyCodeLine{00441\ }
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00443\ \ \ \ \ \}}
\DoxyCodeLine{00444\ }
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{keywordtype}{void}\ linkShadersInternal(\textcolor{keyword}{const}\ std::vector<GLuint>\&\ shaderIDs)\ \{}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \_programID\ =\ glCreateProgram();}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Attach\ all\ shaders}}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (GLuint\ shaderID\ :\ shaderIDs)\ \{}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ \ \ \ \ glAttachShader(\_programID,\ shaderID);}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Link\ program}}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ glLinkProgram(\_programID);}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ link\ status}}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ GLint\ isLinked\ =\ 0;}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ glGetProgramiv(\_programID,\ GL\_LINK\_STATUS,\ \&isLinked);}
\DoxyCodeLine{00459\ }
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isLinked\ ==\ GL\_FALSE)\ \{}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \ \ \ \ GLint\ maxLength\ =\ 0;}
\DoxyCodeLine{00462\ \ \ \ \ \ \ \ \ \ \ \ \ glGetProgramiv(\_programID,\ GL\_INFO\_LOG\_LENGTH,\ \&maxLength);}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \ \ \ \ \ \ \ \ \ \ \ \ std::vector<GLchar>\ errorLog(maxLength);}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ glGetProgramInfoLog(\_programID,\ maxLength,\ \&maxLength,\ \&errorLog[0]);}
\DoxyCodeLine{00466\ }
\DoxyCodeLine{00467\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Cleanup\ on\ failure}}
\DoxyCodeLine{00468\ \ \ \ \ \ \ \ \ \ \ \ \ glDeleteProgram(\_programID);}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (GLuint\ shaderID\ :\ shaderIDs)\ \{}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ glDeleteShader(shaderID);}
\DoxyCodeLine{00471\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \ \ \ \ \ \ \ \ \ \ std::printf(\textcolor{stringliteral}{"{}\%s\(\backslash\)n"{}},\ \&errorLog[0]);}
\DoxyCodeLine{00474\ \ \ \ \ \ \ \ \ \ \ \ \ TazGraphEngine::ConsoleLogger::error(\textcolor{stringliteral}{"{}Shaders\ failed\ to\ link"{}});}
\DoxyCodeLine{00475\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00477\ }
\DoxyCodeLine{00478\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Cleanup\ shaders\ after\ successful\ link}}
\DoxyCodeLine{00479\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (GLuint\ shaderID\ :\ shaderIDs)\ \{}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \ \ glDetachShader(\_programID,\ shaderID);}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \ \ \ \ \ \ glDeleteShader(shaderID);}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00483\ \ \ \ \ \}}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00485\ \};}

\end{DoxyCode}
